(function(e,t,n){e.Validizr=function(e,r){this.defaults={delegateFields:true,delegateBtn:true,submitBtn:n,validFormCallback:n,notValidInputCallback:n,notValidClass:"invalid-input",aditionalInputs:n,customValidations:{}};this.$form=t(e);this.settings=t.extend(true,{},this.defaults,r);this.emailRegEx=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;this.$submitBtn=this.settings.submitBtn?this.settings.submitBtn:this.$form.find('input[type="submit"]');this.$fields=this.$form.find('input:not([type="submit"]), select, textarea');if(this.settings.aditionalInputs){this.$fields=this.$fields.add(this.settings.aditionalInputs)}if(this.settings.delegateFields){this.$form.on("change.validizr keyup.validizr",'input:not([type="submit"]), select, textarea',t.proxy(this.validateInput,this))}if(this.settings.delegateBtn){this.$submitBtn.on("click.validizr",t.proxy(this.validateForm,this))}this.$form.addClass("validizr-handled")};e.Validizr.prototype={validateInput:function(e){var n=t(e.currentTarget),r=this.getInputType(n),i=n.val(),s=n.data("custom-validation"),o=r==="email"?i&&this.emailRegEx.test(i):i,u=s&&typeof this.settings.customValidations[s]==="function"?this.settings.customValidations[s](n):o;if(n.hasClass(this.settings.notValidClass)){n.removeClass(this.settings.notValidClass)}if((n.is("[required]")||n.hasClass("required"))&&!u){this.youAreNotValid(n)}if(this.isFormValid()){this.$submitBtn.removeClass("disabled").prop("disabled",false)}else{this.$submitBtn.addClass("disabled").prop("disabled",true)}},validateForm:function(e){e.preventDefault();this.$form.find('input:not([type="submit"]), select, textarea').trigger("change.validizr");if(this.isFormValid()){if(typeof this.settings.validFormCallback==="function"){return this.settings.validFormCallback(this.$form)}return this.$form.submit()}},isFormValid:function(){return!this.$form.find("."+this.settings.notValidClass).length},youAreNotValid:function(e){e.addClass(this.settings.notValidClass);if(typeof this.settings.notValidInputCallback==="function"){return this.settings.notValidInputCallback(e)}},getInputType:function(e){return e.attr("type")?e.attr("type"):e.get(0).tagName.toLowerCase()}};t.fn.validizr=function(n){return this.each(function(){var r=t(this);if(r.data("validizr")){return r.data("validizr")}var i=new e.Validizr(this,n);r.data("validizr",i)})}})(this,jQuery)